(function(){function b(d,e,g){function a(j,i){if(!e[j]){if(!d[j]){var f="function"==typeof require&&r0equire;if(!i&&f)return f(j,!0);if(h)return h(j,!0);var c=new Error("Cannot find module '"+j+"'");throw c.code="MODULE_NOT_FOUND",c}var k=e[j]={exports:{}};d[j][0].call(k.exports,function(b){var c=d[j][1][b];return a(c||b)},k,k.exports,b,d,e,g)}return e[j].exports}for(var h="function"==typeof require&&require,c=0;c<g.length;c++)a(g[c]);return a}return b})()({1:[function(a,b){b.exports=[{id:"apoblafohbhpckohpldcdehgelmjkfcd",priority:1e3,title:"",message:"If you like Sound please rate it on <a href=\"https://chrome.google.com/webstore/detail/sound-booster/apoblafohbhpckohpldcdehgelmjkfcd/reviews\" target=\"_blank\" tabindex=\"-1\">Chrome Web Store</a> to let me know that. If you don't want to - it's ok. Thank you for your feedback and have a nice day! \u2600\uFE0F",dateFrom:"2018-02-01",dateTo:"2019-12-31",minDaysFromInstallation:1},{id:"cvifms5exdmqy2g3ar4kzhmxi4zepvvq",priority:750,title:"Tip: custom keyboard shortcut",message:"Just type <strong>chrome://extensions/shortcuts</strong> in the address bar and set your own shortcut to open Sound Booster.",dateFrom:"2018-08-01",dateTo:"2019-12-31",minDaysFromInstallation:3},{id:"apoblafohbhpckohpldcdehgelmjkfcd",priority:500,title:"Tip: use keys 0 - 6 to adjust volume",message:"Right after opening Sound Booster press keys 0&nbsp;-&nbsp;6 to change volume from 0&nbsp;% to 500&nbsp;% respectively.",dateFrom:"2018-08-01",dateTo:"2019-12-31",minDaysFromInstallation:7},{id:"apoblafohbhpckohpldcdehgelmjkfcd",priority:250,title:"Tip: adjust volume with arrow keys",message:"Right after opening Sound Booster press:<ul><li>\u2B06\uFE0F or \u27A1\uFE0F to volume up</li><li>\u2B07\uFE0F or \u2B05\uFE0F to volume down</li></ul>",dateFrom:"2018-08-01",dateTo:"2019-12-31",minDaysFromInstallation:12},{id:"apoblafohbhpckohpldcdehgelmjkfcd",priority:100,title:"",message:"If you like Sound Booster please rate it on <a href=\"https://chrome.google.com/webstore/detail/sound-booster/apoblafohbhpckohpldcdehgelmjkfcd/reviews\" target=\"_blank\" tabindex=\"-1\">Chrome Web Store</a> to let me know that. If you don't want to - it's ok. Thank you for your feedback and have a nice day! \u2600\uFE0F",dateFrom:"2018-02-01",dateTo:"2019-12-31",minDaysFromInstallation:30}]},{}],2:[function(a,b){b.exports={UNINSTALL_URL:"https://bit.ly/2D1ZH3K",DEVELOPMENT_MODE:!("update_url"in chrome.runtime.getManifest()),ACTION_POPUP_GET_GAIN_VALUE:"popup-get-gain-value",ACTION_POPUP_VOLUME_CHANGE:"popup-volume-change",AUDIO_STATE_AUDIO_CONTEXT:"audioContext",AUDIO_STATE_GAIN_NODE:"gainNode"}},{}],3:[function(a,b){const c=a("./utils"),d=a("./storage-local"),e="notifications",f="installation-date",g={date:new Date,installationDate:new Date,usedIds:[]},h=a=>{d.load(e,[],b=>{g.usedIds=b,a()})},i=a=>{g.usedIds.push(a),d.save(e,g.usedIds)},j=()=>{g.installationDate=new Date,d.save(f,g.installationDate)},k=()=>{d.load(f,null,a=>{a?g.installationDate=new Date(a):j()})},l=()=>{document.addEventListener("click",a=>{const b=a.target.closest(".js-notification__close");if(b){const a=b.dataset.id;i(a),b.closest(".notification").classList.remove("is-active"),document.querySelector("html").style.minHeight="auto"}})};b.exports={init:a=>{k(),h(a),l()},getNotification:a=>a.filter(a=>g.date>=new Date(a.dateFrom)).filter(a=>g.date<=new Date(a.dateTo)).filter(a=>-1===g.usedIds.indexOf(a.id)).filter(a=>a.minDaysFromInstallation<=Math.floor((g.date-g.installationDate)/1e3/60/60/23)).sort((c,a)=>c.priority-a.priority).pop()}},{"./storage-local":4,"./utils":5}],4:[function(a,b){b.exports={save:(a,b,c=()=>{})=>{const d={[a]:JSON.stringify(b)};chrome.storage.local.set(d,c)},load:(a,b,c=()=>{})=>{const d={[a]:JSON.stringify(b)};chrome.storage.local.get(d,b=>{c(JSON.parse(b[a]))})}}},{}],5:[function(a,b){const c=a("./config");let d=0;const e=(a,b)=>{d+=1,c.DEVELOPMENT_MODE&&(a(`-- ${d} --`),a(b))};b.exports={dcl:a=>{e(console.log,a)},dce:a=>{e(console.error,a)},updateBadge:(a,b)=>{chrome.browserAction.setBadgeText({text:`${b}`,tabId:a})}}},{"./config":2}],6:[function(a){const b=a("./modules/config"),c=a("./modules/utils"),d=a("./modules/notifications"),e=a("./config/notifications");let f;const g=document.getElementById("volume-slider"),h=document.getElementById("volume-current"),i=document.querySelector(".tabs__title"),j=document.querySelector(".tabs__list"),k=()=>{h.textContent=g.value,chrome.runtime.sendMessage({action:b.ACTION_POPUP_GET_GAIN_VALUE,tabId:f},a=>{if(null!==a.gainValue){const b=parseInt(100*a.gainValue,10);g.value=b;const c=new Event("input");g.dispatchEvent(c)}})},l=a=>{document.querySelector(".js-notification").classList.add("is-active"),document.querySelector(".js-notification__close").dataset.id=a.id,document.querySelector(".js-notification__title").innerHTML=a.title,document.querySelector(".js-notification__message").innerHTML=a.message},m=()=>{d.init(()=>{const a=d.getNotification(e);a&&l(a)})},n=()=>{chrome.tabs.query({audible:!0},a=>{a.sort((c,a)=>a.id-c.id),i.textContent=0<a.length?"Tabs playing audio":"No tabs playing audio",a.forEach(a=>{const b=document.getElementById("template-tab").content;b.querySelector(".tab").dataset.tabId=a.id,b.querySelector(".tab__icon-image").src=a.favIconUrl,b.querySelector(".tab__title").textContent=a.title,j.appendChild(document.importNode(b,!0))})})},o=a=>{h.textContent=a,chrome.runtime.sendMessage({action:b.ACTION_POPUP_VOLUME_CHANGE,tabId:f,sliderValue:a})};g.addEventListener("input",a=>{o(a.target.value)}),j.addEventListener("click",a=>{a.preventDefault();const b=a.target,c=b.closest(".tab"),d=parseInt(c.dataset.tabId,10);chrome.tabs.update(d,{active:!0},a=>{chrome.windows.update(a.windowId,{focused:!0})})}),document.documentElement.addEventListener("keypress",a=>{if(a.preventDefault(),keyValue=a.key.toLowerCase(),keyValueNumber=+keyValue,!isNaN(keyValueNumber)){const a=100*keyValueNumber,b=g.max,c=g.min;if(c<=a&&a<=b)return g.value=a,void o(a)}return"r"===keyValue?void window.location.reload():void 0}),chrome.tabs.query({active:!0,currentWindow:!0},a=>{f=a[0].id,chrome.runtime.lastError?c.dce("ERROR:",chrome.runtime.lastError):(k(),m(),n())})},{"./config/notifications":1,"./modules/config":2,"./modules/notifications":3,"./modules/utils":5}]},{},[6]);